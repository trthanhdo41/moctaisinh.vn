<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Mộc Tái Sinh">
  <link rel="shortcut icon" href="favicon.png">
  <meta name="description" content="Giỏ hàng sản phẩm gỗ tái sinh. Mua đồ gỗ thủ công handmade chất lượng cao. Giao hàng toàn quốc, thanh toán an toàn.">
  <meta name="keywords" content="giỏ hàng gỗ tái sinh, mua đồ gỗ, sản phẩm gỗ thủ công, đồ gỗ handmade">
  <!-- SEO Meta Tags -->
  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow">
  <meta property="og:title" content="Giỏ Hàng | Mua Sản Phẩm Gỗ Tái Sinh - Mộc Tái Sinh">
  <meta property="og:description" content="Giỏ hàng sản phẩm gỗ tái sinh. Mua đồ gỗ thủ công handmade chất lượng cao. Giao hàng toàn quốc, thanh toán an toàn.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://moctaisinh.vn">
  <meta property="og:site_name" content="Mộc Tái Sinh">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Giỏ Hàng | Mua Sản Phẩm Gỗ Tái Sinh - Mộc Tái Sinh">
  <meta name="twitter:description" content="Giỏ hàng sản phẩm gỗ tái sinh. Mua đồ gỗ thủ công handmade chất lượng cao. Giao hàng toàn quốc, thanh toán an toàn.">
  <link rel="canonical" href="https://moctaisinh.vn/cart.html">
		<!-- Bootstrap CSS -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
		<link href="css/tiny-slider.css" rel="stylesheet">
		<link href="css/style.css" rel="stylesheet">
		<title>Giỏ Hàng | Mua Sản Phẩm Gỗ Tái Sinh - Mộc Tái Sinh</title>
	</head>
	<body class="cart-page">
		<!-- Start Header/Navigation -->
		<nav class="custom-navbar navbar navbar navbar-expand-lg navbar-dark bg-dark" arial-label="Furni navigation bar" style="background: transparent !important; position: absolute; width: 100%; z-index: 10;">
			<div class="container">
				<a class="navbar-brand" href="index.html">moctaisinh<span>.</span>vn</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsFurni" aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarsFurni">
					<ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
						<li class="nav-item"><a class="nav-link" href="index.html">Trang chủ</a></li>
						<li><a class="nav-link" href="shop.html">Sản phẩm</a></li>
						<li><a class="nav-link" href="about.html">Về chúng tôi</a></li>
						<li><a class="nav-link" href="services.html">Dịch vụ</a></li>
						<li><a class="nav-link" href="blog.html">Blog</a></li>
						<li><a class="nav-link" href="contact.html">Kết nối với chúng tôi</a></li>
					</ul>
					<ul class="custom-navbar-cta navbar-nav mb-2 mb-md-0 ms-5">
						<li><a class="nav-link" href="cart.html"><img src="images/cart.svg"></a></li>
					</ul>
				</div>
			</div>
		</nav>
		<!-- End Header/Navigation -->
		<!-- Start Hero Section -->
			<div class="hero" style="background: url('../images/hero-bg.jpg') center center/cover no-repeat; position: relative; min-height: 180px; padding: 2.5rem 0 2.5rem 0;">
				<div style="position: absolute; inset: 0; background: rgba(59,93,80,0.78); z-index: 1;"></div>
				<div class="container" style="position: relative; z-index: 2;">
					<div class="row justify-content-center">
						<div class="col-lg-8 text-center">
							<div class="intro-excerpt">
								<h1>Giỏ hàng của bạn</h1>
								<p class="mb-4">Xem lại các sản phẩm bạn đã chọn trước khi thanh toán. Hãy kiểm tra số lượng và thông tin để đảm bảo đơn hàng chính xác.<br><span</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		<!-- End Hero Section -->
		<div class="untree_co-section before-footer-section">
            <div class="container">
              <div class="row mb-5">
                <form class="col-md-12" method="post">
                  <div class="site-blocks-table">
                    <div id="emptyCart" style="display: none; text-align: center; padding: 80px 0; background: transparent;">
                      <div class="empty-cart-icon">
                        <i class="fas fa-shopping-cart"></i>
                      </div>
                      <h3 class="empty-cart-title">Giỏ hàng trống</h3>
                      <p class="empty-cart-desc">Bạn chưa có sản phẩm nào trong giỏ hàng.<br>Hãy khám phá bộ sưu tập độc đáo của chúng tôi!</p>
                      <a href="shop.html" class="btn btn-black btn-lg empty-cart-btn">
                        <i class="fas fa-shopping-bag me-2"></i>Mua sắm ngay
                      </a>
                    </div>
                    <table class="table" id="cartTable" style="display: none;">
                      <thead>
                        <tr>
                          <th style="width: 50px;">STT</th>
                          <th class="product-thumbnail">Ảnh</th>
                          <th class="product-name">Sản phẩm</th>
                          <th>Giá</th>
                          <th>Số lượng</th>
                          <th>Tạm tính</th>
                          <th>Xóa</th>
                        </tr>
                      </thead>
                      <tbody id="cartItems">
                        <!-- Cart items will be loaded here -->
                      </tbody>
                    </table>
                  </div>
                </form>
              </div>
              <div class="row">
                <div class="col-md-6" id="cartActions">
                  <div class="row mb-5">
                    <div class="col-md-12">
                      <a href="shop.html" class="btn btn-outline-primary btn-lg btn-block" style="color: #ffffff;">
                        <i class="fas fa-shopping-bag me-2"></i>Tiếp tục mua sắm
                      </a>
                    </div>
                  </div>
                  <section class="thankyou-card-container d-none d-md-block" style="margin: 32px 0 48px 0;">
                    <div class="thankyou-card">
                      <div class="thankyou-card-content">
                        <p class="thankyou-card-logo">moctaisinh.vn gửi lời cảm ơn</p>
                        <div class="thankyou-card-h6">Cảm ơn bạn đã đồng hành cùng Mộc Tái Sinh</div>
                        <div class="thankyou-card-hover_content">
                          <p>Mỗi đơn hàng của bạn là một sự sẻ chia, một nguồn cảm hứng để vật liệu cũ được hồi sinh thành tác phẩm mới. Chúng tôi trân trọng từng lựa chọn, từng câu chuyện mà bạn cùng chúng tôi lan tỏa. <br><em>Chúc bạn luôn tìm thấy niềm vui và cảm xúc trong từng sản phẩm thủ công của Mộc Tái Sinh!</em></p>
                        </div>
                      </div>
                    </div>
                  </section>
                </div>
                <div class="col-md-6 pl-5">
                  <div class="row justify-content-end">
                    <div class="col-md-7">
                      <div class="row">
                        <div class="col-md-12 text-right border-bottom mb-5">
                          <h3 class="text-black h3 text-uppercase" style="font-size: 24px; font-weight: 700;">Tổng đơn hàng</h3>
                        </div>
                      </div>
                      <div class="row mb-3">
                        <div class="col-md-6">
                          <span class="text-black">Tạm tính</span>
                        </div>
                        <div class="col-md-6 text-right">
                          <strong class="text-black" id="subtotal">0₫</strong>
                        </div>
                      </div>
                      <div class="row mb-3">
                        <div class="col-md-6">
                          <span class="text-black">Thuế VAT (0%)</span>
                        </div>
                        <div class="col-md-6 text-right">
                          <strong class="text-success" id="vat">0₫</strong>
                        </div>
                      </div>
                      <div class="row mb-5">
                        <div class="col-md-6">
                          <span class="text-black">Tổng cộng</span>
                        </div>
                        <div class="col-md-6 text-right">
                          <strong class="text-black" id="total">0₫</strong>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-12">
                          <button class="btn btn-success btn-lg py-3 btn-block" onclick="proceedToCheckout()" style="background: #28a745; border-color: #28a745;">
                            <i class="fas fa-credit-card me-2"></i>Tiến hành thanh toán
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
		<!-- Related Products Section -->
		<div class="related-products">
			<div class="container">
				<h2 class="section-title">Bạn có thể thích</h2>
				<div class="related-slider-wrap position-relative">
					<div class="related-slider" id="relatedProducts">
						<!-- Sản phẩm sẽ được render bằng JS -->
					</div>
				</div>
			</div>
		</div>
		<!-- Footer will be loaded automatically from footer.html -->
		<div class="footer-section">
			<!-- Footer will be loaded automatically from footer.html -->
		</div>	
		<!-- Toast Notification -->
		<div id="toast" class="toast-notification" style="display: none;">
			<div class="toast-content">
				<i class="fas fa-check-circle toast-icon"></i>
				<span class="toast-message"></span>
			</div>
		</div>
		<!-- Delete Confirmation Modal -->
		<div id="deleteModal" class="modal-overlay" style="display: none;">
			<div class="modal-content">
				<div class="modal-header">
					<h5>Xác nhận xóa</h5>
					<button type="button" class="close-btn" onclick="closeDeleteModal()">&times;</button>
				</div>
				<div class="modal-body">
					<p>Bạn có chắc muốn xóa sản phẩm này khỏi giỏ hàng?</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" onclick="closeDeleteModal()">Hủy</button>
					<button type="button" class="btn btn-danger" onclick="confirmDelete()">Xóa</button>
				</div>
			</div>
		</div>
		<!-- Nút nổi Call & Zalo -->
		<style>
		.fab-contact {
		  position: fixed;
		  right: 24px;
		  bottom: 24px;
		  z-index: 9999;
		  display: flex;
		  flex-direction: column;
		  gap: 16px;
		}
		.fab-contact-btn {
		  display: flex;
		  justify-content: center;
		  align-items: center;
		  width: 60px;
		  height: 60px;
		  border-radius: 100%;
		  border: none;
		  background-color: #30C04F;
		  color: #fff;
		  cursor: pointer;
		  transition: background 0.2s;
		  animation: shakeFab 0.5s cubic-bezier(.36,.07,.19,.97) infinite;
		  animation-iteration-count: infinite;
		  animation-play-state: paused;
		}
		.fab-contact-btn:hover {
		  background-color: #2bac47;
		  transform: scale(1.1);
		}
		.fab-contact-btn.zalo-btn {
		  background: #008fe5;
		  padding: 0;
		}
		.fab-contact-btn.zalo-btn img {
		  width: 32px;
		  height: 32px;
		}
		@keyframes shakeFab {
		  0% { transform: translateX(0); }
		  10%, 30%, 50%, 70%, 90% { transform: translateX(-6px); }
		  20%, 40%, 60%, 80% { transform: translateX(6px); }
		  100% { transform: translateX(0); }
		}
		.thankyou-card-container {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.thankyou-card {
  position: relative;
  display: flex;
  justify-content: center;
  cursor: pointer;
  width: 28em;
  max-width: 90%;
  padding: 2.5em 0;
  background: #FFF;
  box-shadow: 0 0 6px 0 rgba(32, 32, 36, 0.12);
  transition: all 0.35s ease;
}
.thankyou-card::before, .thankyou-card::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  background: orange;
  height: 4px;
}
.thankyou-card::before {
  width: 0;
  opacity: 0;
  transition: opacity 0 ease, width 0 ease;
  transition-delay: 0.5s;
}
.thankyou-card::after {
  width: 100%;
  background: white;
  transition: width 0.5s ease;
}
.thankyou-card-content {
  width: 24em;
  max-width: 85%;
}
.thankyou-card-logo {
  margin: 0 0 1em;
  width: 16em;
  transition: all 0.35s ease;
  font-weight: bold;
  font-size: 1.6em;
  color: #3b5d50;
  letter-spacing: 1px;
}
.thankyou-card-h6 {
  color: #999;
  font-weight: 600;
  text-transform: uppercase;
  margin: 0;
  letter-spacing: 2px;
  font-size: 1.1em;
}
.thankyou-card-hover_content {
  overflow: hidden;
  max-height: 0;
  transform: translateY(1em);
  transition: all 0.55s ease;
  word-wrap: break-word;
  overflow-wrap: break-word;
}
.thankyou-card-hover_content p {
  margin: 1.5em 0 0;
  color: #6E6E70;
  line-height: 1.4em;
}
.thankyou-card:hover {
  width: 32em;
  box-shadow: 0 10px 20px 0 rgba(32, 32, 36, 0.12);
}
.thankyou-card:hover::before {
  width: 100%;
  opacity: 1;
  transition: opacity 0.5s ease, width 0.5s ease;
  transition-delay: 0;
}
.thankyou-card:hover::after {
  width: 0;
  opacity: 0;
  transition: width 0 ease;
}
.thankyou-card:hover .thankyou-card-logo {
  margin-bottom: 0.5em;
}
.thankyou-card:hover .thankyou-card-hover_content {
  max-height: 10em;
  transform: none;
}
		/* Toast Notification Styles */
		.toast-notification {
			position: fixed;
			top: 80px;
			right: 20px;
			background: #28a745;
			color: white;
			padding: 15px 20px;
			border-radius: 8px;
			box-shadow: 0 4px 12px rgba(0,0,0,0.15);
			z-index: 10000;
			transform: translateX(400px);
			transition: transform 0.3s ease;
			max-width: 300px;
		}
		.toast-notification.show {
			transform: translateX(0);
		}
		.toast-content {
			display: flex;
			align-items: center;
			gap: 10px;
		}
		.toast-icon {
			font-size: 18px;
		}
		.toast-message {
			font-size: 14px;
			font-weight: 500;
		}
		/* Modal Styles */
		.modal-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.5);
			z-index: 10001;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.modal-content {
			background: white;
			border-radius: 8px;
			box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
			max-width: 400px;
			width: 90%;
			animation: modalSlideIn 0.3s ease;
		}
		@keyframes modalSlideIn {
			from {
				opacity: 0;
				transform: translateY(-20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		.modal-header {
			padding: 20px 20px 0 20px;
			display: flex;
			justify-content: space-between;
			align-items: center;
			border-bottom: 1px solid #eee;
		}
		.modal-header h5 {
			margin: 0;
			color: #333;
			font-weight: 600;
		}
		.close-btn {
			background: none;
			border: none;
			font-size: 24px;
			color: #999;
			cursor: pointer;
			padding: 0;
			width: 30px;
			height: 30px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.close-btn:hover {
			color: #333;
		}
		.modal-body {
			padding: 20px;
		}
		.modal-body p {
			margin: 0;
			color: #666;
			font-size: 16px;
		}
		.modal-footer {
			padding: 0 20px 20px 20px;
			display: flex;
			gap: 10px;
			justify-content: flex-end;
		}
		/* Empty Cart Styles */
		.empty-cart-icon {
			margin-bottom: 30px;
		}
		.empty-cart-icon i {
			font-size: 80px;
			color: #ddd;
			opacity: 0.6;
		}
		.empty-cart-title {
			font-size: 28px;
			font-weight: 600;
			color: #333;
			margin-bottom: 15px;
		}
		.empty-cart-desc {
			font-size: 16px;
			color: #666;
			line-height: 1.6;
			margin-bottom: 40px;
			max-width: 400px;
			margin-left: auto;
			margin-right: auto;
		}
		.empty-cart-btn {
			padding: 15px 30px;
			font-size: 16px;
			font-weight: 500;
			border-radius: 8px;
			transition: all 0.3s ease;
			box-shadow: 0 4px 12px rgba(59, 93, 80, 0.2);
		}
		.empty-cart-btn:hover {
			transform: translateY(-2px);
			box-shadow: 0 6px 20px rgba(59, 93, 80, 0.3);
		}
		/* Cart Table Improvements */
		.site-blocks-table {
			background: white;
			border-radius: 12px;
			box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
			overflow: hidden;
			border: 1px solid #f0f0f0;
			overflow-x: auto;
		}
		@media (max-width: 768px) {
			.site-blocks-table {
				margin: 0 -15px;
				border-radius: 0;
			}
			.site-blocks-table .table {
				font-size: 14px;
			}
			.site-blocks-table .table thead th,
			.site-blocks-table .table tbody td {
				padding: 12px 8px;
			}
			.product-thumbnail img {
				width: 60px;
				height: 60px;
				object-fit: cover;
			}
			.product-name h2 {
				font-size: 14px;
			}
			/* Fix price display on mobile */
			.site-blocks-table .table tbody td:nth-child(3) {
				font-weight: 600;
				color: #3b5d50;
				font-size: 13px;
			}
			.quantity-container {
				max-width: 100px !important;
			}
			.quantity-container .btn {
				padding: 6px 8px;
				min-width: 30px;
				font-size: 12px;
			}
			.quantity-container .form-control {
				padding: 6px 8px;
				min-width: 40px;
				font-size: 12px;
			}
		}
		.site-blocks-table .table {
			margin-bottom: 0;
		}
		.site-blocks-table .table thead th {
			background: #f8f9fa;
			border: none;
			padding: 20px 15px;
			font-weight: 600;
			color: #333;
			font-size: 14px;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}
		.site-blocks-table .table tbody td {
			border: none;
			border-bottom: 1px solid #f0f0f0;
			padding: 20px 15px;
			vertical-align: middle;
		}
		.site-blocks-table .table tbody tr:hover {
			background: #f8f9fa;
		}
		.product-thumbnail img {
			border-radius: 8px;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
			transition: transform 0.2s ease;
		}
		.product-thumbnail img:hover {
			transform: scale(1.05);
		}
		.product-name h2 {
			font-size: 16px;
			font-weight: 600;
			color: #333;
			margin: 0;
			line-height: 1.4;
		}
		.quantity-container {
			border-radius: 8px;
			overflow: hidden;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
			display: flex;
			align-items: center;
			justify-content: center;
			width: 120px;
			margin: 0 auto;
		}
		.quantity-container .btn {
			border: none;
			padding: 8px 12px;
			font-weight: 600;
			transition: all 0.2s ease;
			background: #f8f9fa;
			color: #333;
			min-width: 40px;
		}
		.quantity-container .btn:hover {
			background: #3b5d50;
			color: white;
		}
		.quantity-container .form-control {
			border: none;
			font-weight: 600;
			text-align: center;
			background: white;
			padding: 8px 12px;
			min-width: 60px;
			font-size: 14px;
		}
		.quantity-container .form-control:focus {
			box-shadow: none;
			border-color: #3b5d50;
			background: white;
		}
		/* Button hover effects */
		.btn-outline-primary:hover {
			background-color: #007bff !important;
			border-color: #007bff !important;
			color: white !important;
		}
		.btn-success:hover {
			background-color: #218838 !important;
			border-color: #1e7e34 !important;
			transform: translateY(-1px);
			box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);
		}
		.btn-danger {
			background-color: #dc3545 !important;
			border-color: #dc3545 !important;
			color: white !important;
			display: inline-block !important;
			visibility: visible !important;
			opacity: 1 !important;
		}
		/* Specific styling for delete button in cart table */
		.site-blocks-table .btn-danger {
			background-color: #dc3545 !important;
			border-color: #dc3545 !important;
			color: white !important;
			display: inline-block !important;
			visibility: visible !important;
			opacity: 1 !important;
			width: 35px !important;
			height: 35px !important;
			padding: 0 !important;
			border-radius: 4px !important;
		}
		.site-blocks-table .btn-danger i {
			color: white !important;
			font-size: 14px !important;
		}
		.btn-danger:hover {
			background-color: #c82333 !important;
			border-color: #bd2130 !important;
			transform: translateY(-1px);
			box-shadow: 0 4px 8px rgba(220, 53, 69, 0.3);
		}
		/* Related Products Section */
		.related-products {
			padding: 80px 0;
			background: #f8f9fa;
			display: block !important;
			visibility: visible !important;
		}
		.section-title {
			text-align: center;
			font-size: 2.5rem;
			font-weight: 700;
			color: #3b5d50;
			margin-bottom: 50px;
		}
		.related-slider-wrap {
			position: relative;
			overflow: hidden;
		}
		.related-slider {
			display: flex;
			gap: 20px;
			transition: transform 0.3s ease;
			overflow-x: auto;
			scrollbar-width: none;
			-ms-overflow-style: none;
		}
		.related-slider::-webkit-scrollbar {
			display: none;
		}
		.related-product-item {
			flex: 0 0 280px;
			background: white;
			border-radius: 12px;
			padding: 20px;
			box-shadow: 0 4px 20px rgba(0,0,0,0.1);
			cursor: pointer;
			position: relative;
			overflow: hidden;
		}
		.related-product-thumbnail {
			width: 100%;
			height: 200px;
			object-fit: cover;
			border-radius: 8px;
			margin-bottom: 15px;
		}
		.related-product-title {
			font-size: 1.1rem;
			font-weight: 600;
			color: #3b5d50;
			margin-bottom: 8px;
			line-height: 1.3;
			text-align: center;
		}
		.related-product-price {
			font-size: 1.2rem;
			font-weight: 700;
			color: #28a745;
			margin-bottom: 10px;
			text-align: center;
		}
		.related-product-desc {
			font-size: 0.9rem;
			color: #666;
			line-height: 1.4;
			margin-bottom: 15px;
			text-align: center;
		}
		/* Responsive for thank you card */
		@media (max-width: 768px) {
			.thankyou-card {
				width: 100%;
				max-width: 100%;
				padding: 2em 1em;
			}
			.thankyou-card-content {
				width: 100%;
				max-width: 100%;
			}
			.thankyou-card-logo {
				width: 100%;
				font-size: 1.2em;
			}
			.thankyou-card-h6 {
				font-size: 0.9em;
			}
			/* Fix order summary alignment on mobile */
			.col-md-6.pl-5 {
				padding-left: 15px !important;
				padding-right: 15px !important;
			}
			.col-md-7 {
				width: 100% !important;
			}
			/* Hide STT column on mobile to save space */
			.site-blocks-table .table thead th:first-child,
			.site-blocks-table .table tbody td:first-child {
				display: none;
			}
}
		</style>
		<div class="fab-contact">
		  <a href="tel:0373566167" class="fab-contact-btn" id="callFab" title="Gọi điện" onclick="handleCallClick(event)">
		    <svg xmlns="http://www.w3.org/2000/svg" width="32" viewBox="0 0 32 32" height="32" fill="none" class="svg-icon"><path stroke-width="2" stroke-linecap="round" stroke="#fff" fill-rule="evenodd" d="m24.8868 19.1288c-1.0274-.1308-2.036-.3815-3.0052-.7467-.7878-.29-1.6724-.1034-2.276.48-.797.8075-2.0493.9936-2.9664.3258-1.4484-1.055-2.7233-2.3295-3.7783-3.7776-.6681-.9168-.4819-2.1691.3255-2.9659.5728-.6019.7584-1.4748.4802-2.2577-.3987-.98875-.6792-2.02109-.8358-3.07557-.2043-1.03534-1.1138-1.7807-2.1694-1.77778h-3.18289c-.60654-.00074-1.18614.25037-1.60035.69334-.40152.44503-.59539 1.03943-.53345 1.63555.344 3.31056 1.47164 6.49166 3.28961 9.27986 1.64878 2.5904 3.84608 4.7872 6.43688 6.4356 2.7927 1.797 5.9636 2.9227 9.2644 3.289h.1778c.5409.0036 1.0626-.2 1.4581-.569.444-.406.6957-.9806.6935-1.5822v-3.1821c.0429-1.0763-.7171-2.0185-1.7782-2.2046z" clip-rule="evenodd"></path></svg>
		  </a>
		  <a href="https://zalo.me/0373566167" class="fab-contact-btn zalo-btn" id="zaloFab" title="Zalo" target="_blank"><img src="images/Icon_of_Zalo.png" alt="Zalo"></a>
		</div>
		<script>
		function loopShakeFab(btnId) {
		  var btn = document.getElementById(btnId);
		  if (!btn) return;
		  btn.style.cssText += `
			animation: modernShake 3s ease-in-out infinite;
			transform-origin: center;
		  `;
		  if (!document.getElementById('modernShakeKeyframes')) {
			const style = document.createElement('style');
			style.id = 'modernShakeKeyframes';
			style.textContent = `
			  @keyframes modernShake {
				0%, 100% { 
				  transform: rotate(0deg) scale(1); 
				  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
				}
				10% { 
				  transform: rotate(-5deg) scale(1.05); 
				  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
				}
				20% { 
				  transform: rotate(5deg) scale(1.1); 
				  box-shadow: 0 8px 25px rgba(0,0,0,0.4);
				}
				30% { 
				  transform: rotate(-3deg) scale(1.05); 
				  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
				}
				40% { 
				  transform: rotate(3deg) scale(1.1); 
				  box-shadow: 0 8px 25px rgba(0,0,0,0.4);
				}
				50% { 
				  transform: rotate(-2deg) scale(1.05); 
				  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
				}
				60% { 
				  transform: rotate(2deg) scale(1.1); 
				  box-shadow: 0 8px 25px rgba(0,0,0,0.4);
				}
				70% { 
				  transform: rotate(-1deg) scale(1.02); 
				  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
				}
				80% { 
				  transform: rotate(1deg) scale(1.05); 
				  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
				}
				90% { 
				  transform: rotate(0deg) scale(1.02); 
				  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
				}
			  }
			`;
			document.head.appendChild(style);
		  }
		  btn.addEventListener('mouseenter', function() {
			this.style.animationPlayState = 'paused';
			this.style.transform = 'scale(1.2) rotate(5deg)';
			this.style.boxShadow = '0 10px 30px rgba(0,0,0,0.5)';
		  });
		  btn.addEventListener('mouseleave', function() {
			this.style.animationPlayState = 'running';
			this.style.transform = '';
			this.style.boxShadow = '';
		  });
		}
		loopShakeFab('callFab');
		loopShakeFab('zaloFab');
      function handleCallClick(event) {
        event.preventDefault();
        showCallPopup();
      }
      function showCallPopup() {
        const popup = document.createElement('div');
        popup.id = 'callPopup';
        popup.style.cssText = `
          position: fixed;
          inset: 0;
          z-index: 3000;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(0,0,0,0.5);
          backdrop-filter: blur(4px);
        `;
        const popupContent = document.createElement('div');
        popupContent.style.cssText = `
          background: white;
          border-radius: 16px;
          padding: 32px;
          text-align: center;
          max-width: 400px;
          width: 90%;
          box-shadow: 0 20px 60px rgba(0,0,0,0.3);
          animation: popupSlideIn 0.3s ease-out;
        `;
        popupContent.innerHTML = `
          <div style="margin-bottom: 24px;">
            <div style="width: 80px; height: 80px; background: #28a745; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px;">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" fill="white"/>
              </svg>
            </div>
            <h3 style="margin: 0 0 8px; color: #333; font-size: 24px; font-weight: 600;">Gọi điện tư vấn</h3>
            <p style="margin: 0; color: #666; font-size: 16px;">Bạn có muốn gọi điện đến hotline của chúng tôi không?</p>
          </div>
          <div style="font-size: 28px; font-weight: 700; color: #28a745; margin-bottom: 24px; letter-spacing: 2px;">
            0373 566 167
          </div>
          <div style="display: flex; gap: 12px; justify-content: center;">
            <button onclick="closeCallPopup()" style="
              padding: 12px 24px;
              border: 2px solid #ddd;
              background: white;
              color: #666;
              border-radius: 8px;
              font-size: 16px;
              font-weight: 600;
              cursor: pointer;
              transition: all 0.2s;
            " onmouseover="this.style.borderColor='#999'; this.style.color='#333'" onmouseout="this.style.borderColor='#ddd'; this.style.color='#666'">
              Hủy
            </button>
            <button onclick="makeCall()" style="
              padding: 12px 32px;
              border: none;
              background: #28a745;
              color: white;
              border-radius: 8px;
              font-size: 16px;
              font-weight: 600;
              cursor: pointer;
              transition: all 0.2s;
            " onmouseover="this.style.background='#218838'" onmouseout="this.style.background='#28a745'">
              Gọi ngay
            </button>
          </div>
        `;
        const style = document.createElement('style');
        style.textContent = `
          @keyframes popupSlideIn {
            from {
              opacity: 0;
              transform: scale(0.8) translateY(-20px);
            }
            to {
              opacity: 1;
              transform: scale(1) translateY(0);
            }
          }
          @keyframes popupSlideOut {
            from {
              opacity: 1;
              transform: scale(1) translateY(0);
            }
            to {
              opacity: 0;
              transform: scale(0.8) translateY(-20px);
            }
          }
        `;
        document.head.appendChild(style);
        popup.appendChild(popupContent);
        document.body.appendChild(popup);
        popup.addEventListener('click', function(e) {
          if (e.target === popup) {
            closeCallPopup();
          }
        });
        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape') {
            closeCallPopup();
          }
        });
      }
      function closeCallPopup() {
        const popup = document.getElementById('callPopup');
        if (popup) {
          popup.style.animation = 'popupSlideOut 0.2s ease-in';
          setTimeout(() => {
            document.body.removeChild(popup);
          }, 200);
        }
      }
      function makeCall() {
        const phoneNumber = '0373566167';
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        if (isMobile) {
          window.location.href = 'tel:' + phoneNumber;
        } else {
          const link = document.createElement('a');
          link.href = 'tel:' + phoneNumber;
          link.style.display = 'none';
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
          showCallNotification('Đang mở ứng dụng gọi điện...');
        }
        closeCallPopup();
      }
    </script>
			<script src="js/bootstrap.bundle.min.js"></script>
	<script src="js/tiny-slider.js"></script>
	<script src="js/custom.js"></script>
	<script>
		let cart = [];
		function loadCart() {
			cart = JSON.parse(localStorage.getItem('cart')) || [];
			renderCart();
			loadRelatedProducts();
		}
		function loadRelatedProducts() {
			fetch('http://localhost:8080/api/products')
				.then(response => {
					return response.json();
				})
				.then(data => {
					if (data && data.length > 0) {
						const products = data;
						const relatedProductsContainer = document.getElementById('relatedProducts');
						if (!relatedProductsContainer) {
							return;
						}
						relatedProductsContainer.innerHTML = '';
						products.forEach((product, index) => {
							const productItem = document.createElement('div');
							productItem.className = 'related-product-item';
							productItem.onclick = () => window.location.href = `detail.html?id=${product.id}`;
							productItem.innerHTML = `
								<img src="${product.image || 'images/product-1.png'}" alt="${product.name}" class="related-product-thumbnail">
								<h3 class="related-product-title">${product.name}</h3>
								<div class="related-product-price">${formatVND(product.price)}</div>
								<div class="related-product-desc">${product.description || 'Sản phẩm thủ công độc đáo'}</div>
							`;
							relatedProductsContainer.appendChild(productItem);
						});
						initRelatedSlider();
					} else {
						loadSampleProducts();
					}
				})
				.catch(error => {
					loadSampleProducts();
				});
		}
		function loadSampleProducts() {
			const relatedProductsContainer = document.getElementById('relatedProducts');
			if (!relatedProductsContainer) return;
			relatedProductsContainer.innerHTML = `
				<div class="text-center py-4">
					<div class="spinner-border text-primary" role="status">
						<span class="visually-hidden">Đang tải...</span>
					</div>
					<p class="mt-3 text-muted">Đang tải sản phẩm liên quan...</p>
				</div>
			`;
		}
	function initRelatedSlider() {
		const slider = document.querySelector('.related-slider');
		if (!slider) return;
		let scrollSpeed = 2;
		let direction = 1; // 1 = forward, -1 = backward
		let autoScrollInterval = setInterval(() => {
			slider.scrollLeft += scrollSpeed * direction;
			if (slider.scrollLeft >= slider.scrollWidth - slider.clientWidth) {
				direction = -1; // Go backward
			} else if (slider.scrollLeft <= 0) {
				direction = 1; // Go forward
			}
		}, 25);
	}
		function renderCart() {
			const cartItems = document.getElementById('cartItems');
			const cartTable = document.getElementById('cartTable');
			const emptyCart = document.getElementById('emptyCart');
			const orderSummary = document.querySelector('.col-md-6.pl-5');
			const cartActions = document.getElementById('cartActions');
			if (cart.length === 0) {
				cartTable.style.display = 'none';
				emptyCart.style.display = 'block';
				if (orderSummary) {
					orderSummary.style.display = 'none';
				}
				if (cartActions) {
					cartActions.style.display = 'none';
				}
				updateTotal(0);
				return;
			}
			cartTable.style.display = 'table';
			emptyCart.style.display = 'none';
			if (orderSummary) {
				orderSummary.style.display = 'block';
			}
			if (cartActions) {
				cartActions.style.display = 'block';
			}
			cartItems.innerHTML = '';
			cart.forEach((item, index) => {
				const row = document.createElement('tr');
				row.innerHTML = `
					<td style="text-align: center; font-weight: 600; color: #666;">
						${index + 1}
					</td>
					<td class="product-thumbnail">
						<a href="detail.html?id=${item.id}" style="display: block; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
							<img src="${item.image}" alt="${item.name}" class="img-fluid">
						</a>
					</td>
					<td class="product-name">
						<h2 class="h5 text-black">
							<a href="detail.html?id=${item.id}" style="color: #3b5d50; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#2d4a3f'" onmouseout="this.style.color='#3b5d50'">
								${item.name}
							</a>
						</h2>
					</td>
					<td>${formatVND(item.price)}</td>
					<td>
						<div class="input-group mb-3 d-flex align-items-center quantity-container" style="max-width: 120px;">
							<div class="input-group-prepend">
								<button type="button" class="btn btn-outline-black decrease" onclick="changeQuantity(${index}, -1)">&minus;</button>
							</div>
							<input type="text" class="form-control text-center quantity-amount" value="${item.quantity}" 
								onchange="updateQuantity(${index}, this.value)" placeholder="" aria-label="Số lượng" aria-describedby="button-addon1">
							<div class="input-group-append">
								<button type="button" class="btn btn-outline-black increase" onclick="changeQuantity(${index}, 1)">&plus;</button>
							</div>
						</div>
					</td>
					<td>${calculateSubtotal(item.price, item.quantity)}</td>
					<td style="text-align: center;">
						<button type="button" class="btn btn-danger btn-sm" onclick="removeItem(${index})" style="background: #dc3545 !important; border-color: #dc3545 !important; color: white !important; display: inline-block !important; visibility: visible !important; opacity: 1 !important; width: 35px; height: 35px; padding: 0; border-radius: 4px;">
							<i class="fas fa-trash" style="color: white !important; font-size: 14px;"></i>
						</button>
					</td>
				`;
				cartItems.appendChild(row);
			});
			updateTotal();
		}
		function changeQuantity(index, delta) {
			if (cart[index]) {
				cart[index].quantity = Math.max(1, cart[index].quantity + delta);
				localStorage.setItem('cart', JSON.stringify(cart));
				renderCart();
				updateCartIcon(); // Update cart icon
			}
		}
		function updateQuantity(index, value) {
			if (cart[index]) {
				const numericValue = value.replace(/[^\d]/g, '');
				const newQuantity = Math.max(1, Math.min(99, parseInt(numericValue) || 1));
				const input = event.target;
				if (input) {
					input.value = newQuantity;
				}
				cart[index].quantity = newQuantity;
				localStorage.setItem('cart', JSON.stringify(cart));
				renderCart();
				updateCartIcon(); // Update cart icon
			}
		}
		function showToast(message, type = 'success') {
			const toast = document.getElementById('toast');
			const messageEl = toast.querySelector('.toast-message');
			const icon = toast.querySelector('.toast-icon');
			messageEl.textContent = message;
			if (type === 'success') {
				icon.className = 'fas fa-check-circle toast-icon';
				toast.style.background = '#28a745';
			} else if (type === 'error') {
				icon.className = 'fas fa-exclamation-circle toast-icon';
				toast.style.background = '#dc3545';
			} else if (type === 'warning') {
				icon.className = 'fas fa-exclamation-triangle toast-icon';
				toast.style.background = '#ffc107';
				toast.style.color = '#212529';
			}
			toast.style.display = 'block';
			setTimeout(() => {
				toast.classList.add('show');
			}, 10);
			setTimeout(() => {
				toast.classList.remove('show');
				setTimeout(() => {
					toast.style.display = 'none';
				}, 300);
			}, 3000);
		}
		let itemToDelete = null;
		function removeItem(index) {
			itemToDelete = index;
			document.getElementById('deleteModal').style.display = 'flex';
		}
		function closeDeleteModal() {
			document.getElementById('deleteModal').style.display = 'none';
			itemToDelete = null;
		}
		function confirmDelete() {
			if (itemToDelete !== null) {
				const itemName = cart[itemToDelete].name;
				cart.splice(itemToDelete, 1);
				localStorage.setItem('cart', JSON.stringify(cart));
				renderCart();
				updateCartIcon(); // Update cart icon
				showToast(`Đã xóa "${itemName}" khỏi giỏ hàng`);
				closeDeleteModal();
			}
		}
		function updateTotal() {
			const total = cart.reduce((sum, item) => {
				const priceStr = item.price ? item.price.toString().replace(/[^\d]/g, '') : '0';
				const price = parseInt(priceStr) || 0;
				return sum + (price * item.quantity);
			}, 0);
			const formattedTotal = formatVND(total);
			document.getElementById('subtotal').textContent = formattedTotal;
			document.getElementById('vat').textContent = formatVND(0); // Thuế VAT = 0đ
			document.getElementById('total').textContent = formattedTotal; // Tổng = Tạm tính (vì VAT = 0đ)
		}
		function formatVND(amount) {
			return new Intl.NumberFormat('vi-VN', {
				style: 'currency',
				currency: 'VND'
			}).format(amount);
		}
		function calculateSubtotal(price, quantity) {
			const priceStr = price ? price.toString().replace(/[^\d]/g, '') : '0';
			const priceNum = parseInt(priceStr) || 0;
			const total = priceNum * quantity;
			return formatVND(total);
		}
		function updateCartIcon() {
			const cart = JSON.parse(localStorage.getItem('cart')) || [];
			const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
			const cartIcon = document.querySelector('.nav-link img[src*="cart.svg"]');
			if (cartIcon && totalItems > 0) {
				let badge = cartIcon.parentElement.querySelector('.cart-badge');
				if (!badge) {
					badge = document.createElement('span');
					badge.className = 'cart-badge';
					badge.style.cssText = `
						position: absolute;
						top: -8px;
						right: -8px;
						background: #dc3545;
						color: white;
						border-radius: 50%;
						min-width: 20px;
						height: 20px;
						font-size: 12px;
						display: flex;
						align-items: center;
						justify-content: center;
						font-weight: bold;
						padding: 0 6px;
					`;
					cartIcon.parentElement.style.position = 'relative';
					cartIcon.parentElement.appendChild(badge);
				}
				let badgeText = totalItems.toString();
				if (totalItems > 99) {
					badgeText = '99+';
				}
				badge.textContent = badgeText;
			} else if (cartIcon) {
				const badge = cartIcon.parentElement.querySelector('.cart-badge');
				if (badge) {
					badge.remove();
				}
			}
		}
		function proceedToCheckout() {
			if (cart.length === 0) {
				showToast('Giỏ hàng trống! Vui lòng thêm sản phẩm trước khi thanh toán.');
				return;
			}
			localStorage.setItem('checkoutCart', JSON.stringify(cart));
			localStorage.setItem('checkoutTotal', document.getElementById('total').textContent);
			CheckoutUtils.redirectToCheckout('cart');
		}
		function showToast(message) {
			const toast = document.createElement('div');
			toast.className = 'toast-notification';
			toast.style.cssText = `
				position: fixed;
				top: 20px;
				right: 20px;
				background: #28a745;
				color: white;
				padding: 15px 20px;
				border-radius: 5px;
				z-index: 9999;
				box-shadow: 0 4px 12px rgba(0,0,0,0.15);
				transform: translateX(100%);
				transition: transform 0.3s ease;
			`;
			toast.textContent = message;
			document.body.appendChild(toast);
			setTimeout(() => {
				toast.style.transform = 'translateX(0)';
			}, 100);
			setTimeout(() => {
				toast.style.transform = 'translateX(100%)';
				setTimeout(() => {
					document.body.removeChild(toast);
				}, 300);
			}, 3000);
		}
		document.addEventListener('DOMContentLoaded', function() {
			loadCart();
			const form = document.querySelector('form');
			if (form) {
				form.addEventListener('submit', function(e) {
					e.preventDefault();
					return false;
				});
			}
			document.getElementById('deleteModal').addEventListener('click', function(e) {
				if (e.target === this) {
					closeDeleteModal();
				}
			});
			document.addEventListener('input', function(e) {
				if (e.target.classList.contains('quantity-amount')) {
					e.target.value = e.target.value.replace(/[^\d]/g, '');
				}
			});
		});
	</script>
			<script src="js/checkout-utils.js"></script>
			<script src="js/footer-loader.js"></script>
		<script src="js/counter-animation.js"></script>
		<link href="css/background-music.css" rel="stylesheet">
		<script src="js/background-music.js"></script>
		<script src="js/cart-guard.js"></script>
</body>
</html>
